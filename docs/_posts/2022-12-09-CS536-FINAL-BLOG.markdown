---
layout: post
title: "Validating and Evaluating the Paper, \"Implementing AES Encryption on Programmable Switches via Scrambled Lookup\""
date: 2022-12-09 07:36:00 -0000
categories: 
---

![Purdue CS Logo](purdue-cs-logo.jpg)

# Validating and Evaluating the Paper, "Implementing AES Encryption on Programmable Switches via Scrambled Lookup"

**Members:** [Rui Zhu](zhu1054@purdue.edu), [Siyu Yao](yao269@purdue.edu), [Byounguk Min]( min87@purdue.edu), [Walter Yarrow](wyarrow@purdue.edu), [Winston Wang](wang4362@purdue.edu)

## Project Statement

For this project we sought to extend the results of "Implementing AES Encryption on Programmable Switches via Scrambled Lookup Tables" by Xiaoqi Chen using multiple mininet hosts and multiple ONOS switches utilizing programmed with p4 for encryption and decryption. While the original paper only supported a one way encryption between two hosts and one switch, we aim to extend our implementation to more complex topologies while also supporting decryption.

## Advanced Encryption Standard

First, some quick background information on AES. Advanced Encryption Standard (AES) is a symmetric-key encryption algorithm specified by the U.S. National Institute of Standards and Technology since 2001. Built on the idea of substituion-permutation networks, AES encrypts data block by block into equivalent sized ciphertext using repeated rounds of encryption. Data block size and key size can both be varied, with the standard variants being AES-128, AES-192, and AES-256, respectively.

While a successful AES implementation in the data plane would be helpful for a number of security annd privacy applications, the nature of the algorithm's round by round, block by block encryption strategy makes implementation on standard programmable switches a difficult task for such devices with limited processing power when even AES-128 requires 10 rounds of encryption.

The key insight of "Implementing AES Encryption on Programmable Switches via Scrambled Lookup Tables", then, was the utilization of Scrambled Lookup Tables to take advantage of table-matching to reduce the number of arithmetic operations required for encryption.

See the video below for more details on what we did:

<iframe width="1487" height="400" src="https://user-images.githubusercontent.com/54554850/206820592-9539976f-6244-45ae-8c9f-3cb065afaa5c.mp4
" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

(swap out for extended video later?)

## Our Implementation and Results

Our implementation was run on an AWS EC2 instance with 2vCPU and 8 gb of of memory, and utilizes a 2 switch, 6 host Mininet topology heavily drawing upon the assignment 3 code repository with custom Scapy scripts for packet generation and for collecting metrics such as packect rate to measure encryption overhead.

We evaluated our version of the AES algorithm using Mininet, and investigated the performance differences between AES encrypted networks and networks without AES encryption, and determined the overhead of the encryption process. It can be considered as a network with two segments: one segment is formed with one switch and three hosts, and another segment is formed with one switch and three hosts on the other side. The goal of our implementation is to be able to forward encrypted packets between hosts. See below for our findings:

![AES Result](AESresult.jpg)

### Conclusion
That about wraps it up for our attempt to reproduce the results from the paper "Implementing AES Encryption on Programmable Switches via Scrambled Lookup Tables". We implemented and evaluated a P4 program on Mininet in order to demonstrate the real overhead of adding AES encryption onto the programmable switch and additionally implemented the decryption of packets onto the switch in order to allow packets to be securely sent and read by their intended receiver.

## Source Code Repository: 

[https://github.com/ByungUkMin/p4-encryption/](https://github.com/ByungUkMin/p4-encryption/)


